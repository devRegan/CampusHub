<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CampusHub</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Auth Pages -->
    <div id="authPage" class="auth-page">
        <!-- Sign In -->
        <div id="signinSection" class="auth-container">
            <div class="auth-card">
                <div class="auth-logo">
                    <i class="fas fa-graduation-cap"></i>
                </div>
                <h1>CampusHub</h1>
                <h2>Welcome Back</h2>
                
                <form id="signinForm">
                    <div class="form-group">
                        <label for="signinEmail"><i class="fas fa-envelope"></i> Email</label>
                        <input type="email" id="signinEmail" required placeholder="your.email@college.edu">
                    </div>

                    <div class="form-group">
                        <label for="signinPassword"><i class="fas fa-lock"></i> Password</label>
                        <input type="password" id="signinPassword" required placeholder="Enter password">
                    </div>

                    <div id="signinError" class="error-message"></div>

                    <button type="submit" class="btn-primary" id="signinBtn">
                        <i class="fas fa-sign-in-alt"></i> Sign In
                    </button>
                </form>

                <div class="auth-footer">
                    <p>Don't have an account? <a href="#" id="showSignup">Sign Up</a></p>
                </div>
            </div>
        </div>

        <!-- Sign Up -->
        <div id="signupSection" class="auth-container" style="display: none;">
            <div class="auth-card">
                <div class="auth-logo">
                    <i class="fas fa-graduation-cap"></i>
                </div>
                <h1>CampusHub</h1>
                <h2>Create Account</h2>
                
                <form id="signupForm">
                    <div class="form-group">
                        <label for="signupEmail"><i class="fas fa-envelope"></i> Email</label>
                        <input type="email" id="signupEmail" required placeholder="your.email@college.edu">
                    </div>

                    <div class="form-group">
                        <label for="signupPassword"><i class="fas fa-lock"></i> Password</label>
                        <input type="password" id="signupPassword" required placeholder="Enter password" minlength="6">
                    </div>

                    <div class="form-group">
                        <label for="confirmPassword"><i class="fas fa-lock"></i> Confirm Password</label>
                        <input type="password" id="confirmPassword" required placeholder="Confirm password">
                    </div>

                    <div class="form-group">
                        <label for="fullName"><i class="fas fa-user"></i> Full Name</label>
                        <input type="text" id="fullName" required placeholder="Enter your full name">
                    </div>

                    <div id="signupError" class="error-message"></div>
                    <div id="signupSuccess" class="success-message"></div>

                    <button type="submit" class="btn-primary" id="signupBtn">
                        <i class="fas fa-user-plus"></i> Sign Up
                    </button>
                </form>

                <div class="auth-footer">
                    <p>Already have an account? <a href="#" id="showSignin">Sign In</a></p>
                </div>
            </div>
        </div>
    </div>

    <!-- Main App -->
    <div id="mainApp" style="display: none;">
        <!-- Navbar -->
        <nav class="navbar">
            <div class="container">
                <div class="nav-brand">
                    <i class="fas fa-graduation-cap"></i>
                    <h1 class="logo">CampusHub</h1>
                </div>
                <div class="nav-center">
                    <button class="nav-btn active" data-page="feed">
                        <i class="fas fa-home"></i>
                        <span>Feed</span>
                    </button>
                    <button class="nav-btn" data-page="profile">
                        <i class="fas fa-user"></i>
                        <span>Profile</span>
                    </button>
                </div>
                <div class="nav-actions">
                    <button id="themeToggle" class="icon-btn" title="Toggle Theme">
                        <i class="fas fa-moon"></i>
                    </button>
                    <button id="logoutBtn" class="btn-secondary">
                        <i class="fas fa-sign-out-alt"></i>
                        <span>Logout</span>
                    </button>
                </div>
            </div>
        </nav>

        <!-- Feed Page -->
        <main id="feedPage" class="container main-content">
            <div class="page-header">
                <h2><i class="fas fa-rss"></i> Your Feed</h2>
            </div>

            <div class="create-post-section">
                <div class="section-header">
                    <h3 id="postSectionTitle"><i class="fas fa-edit"></i> Create a Post</h3>
                </div>
                <form id="createPostForm">
                    <textarea id="postContent" placeholder="What's on your mind?" rows="4" required></textarea>
                    
                    <div class="media-upload">
                        <label for="imageUpload" class="upload-label">
                            <i class="fas fa-image"></i>
                            <span>Image</span>
                            <input type="file" id="imageUpload" accept="image/*" multiple>
                        </label>
                        
                        <label for="videoUpload" class="upload-label">
                            <i class="fas fa-video"></i>
                            <span>Video</span>
                            <input type="file" id="videoUpload" accept="video/*">
                        </label>
                        
                        <label for="fileUpload" class="upload-label">
                            <i class="fas fa-file"></i>
                            <span>File</span>
                            <input type="file" id="fileUpload">
                        </label>
                    </div>

                    <div id="uploadPreview" class="upload-preview"></div>
                    
                    <div class="form-actions">
                        <button type="submit" class="btn-primary">
                            <i class="fas fa-paper-plane"></i> Post
                        </button>
                    </div>
                </form>
            </div>

            <div class="feed-section">
                <div class="section-header">
                    <h3><i class="fas fa-stream"></i> Recent Posts</h3>
                </div>
                <div id="postsContainer" class="posts-container">
                    <div class="loading">
                        <i class="fas fa-spinner fa-spin"></i> Loading posts...
                    </div>
                </div>
            </div>
        </main>

        <!-- Profile Page -->
        <main id="profilePage" class="container main-content" style="display: none;">
            <div class="page-header">
                <h2><i class="fas fa-user-circle"></i> My Profile</h2>
            </div>

            <div class="profile-container">
                <!-- Profile View -->
                <div id="profileView" class="profile-view">
                    <div class="profile-header">
                        <div class="profile-avatar-large">
                            <span id="avatarInitials">U</span>
                        </div>
                        <div class="profile-info">
                            <h3 id="displayName">Loading...</h3>
                            <p id="displayEmail"></p>
                            <button id="editProfileBtn" class="btn-primary">
                                <i class="fas fa-edit"></i> Edit Profile
                            </button>
                        </div>
                    </div>

                    <div class="profile-content">
                        <div class="profile-section">
                            <h4><i class="fas fa-info-circle"></i> Public Information</h4>
                            <div class="info-grid">
                                <div class="info-item">
                                    <span class="info-label"><i class="fas fa-building"></i> Department</span>
                                    <span id="displayDepartment" class="info-value">Not set</span>
                                </div>
                                <div class="info-item">
                                    <span class="info-label"><i class="fas fa-book"></i> Class</span>
                                    <span id="displayClass" class="info-value">Not set</span>
                                </div>
                                <div class="info-item">
                                    <span class="info-label"><i class="fas fa-users"></i> Section</span>
                                    <span id="displaySection" class="info-value">Not set</span>
                                </div>
                                <div class="info-item">
                                    <span class="info-label"><i class="fas fa-venus-mars"></i> Gender</span>
                                    <span id="displayGender" class="info-value">Not set</span>
                                </div>
                                <div class="info-item">
                                    <span class="info-label"><i class="fas fa-tag"></i> Nickname</span>
                                    <span id="displayNickname" class="info-value">Not set</span>
                                </div>
                            </div>
                        </div>

                        <div class="profile-section private-section">
                            <h4><i class="fas fa-lock"></i> Private Information</h4>
                            <div class="info-grid">
                                <div class="info-item">
                                    <span class="info-label"><i class="fas fa-birthday-cake"></i> Age</span>
                                    <span id="displayAge" class="info-value">Not set</span>
                                </div>
                                <div class="info-item">
                                    <span class="info-label"><i class="fas fa-heart"></i> Hobby</span>
                                    <span id="displayHobby" class="info-value">Not set</span>
                                </div>
                                <div class="info-item full-width">
                                    <span class="info-label"><i class="fas fa-align-left"></i> Bio</span>
                                    <p id="displayBio" class="info-value">Not set</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Profile Edit -->
                <div id="profileEdit" class="profile-edit" style="display: none;">
                    <form id="profileForm">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="fullNameEdit"><i class="fas fa-user"></i> Full Name *</label>
                                <input type="text" id="fullNameEdit" required>
                            </div>
                            <div class="form-group">
                                <label for="nickname"><i class="fas fa-tag"></i> Nickname</label>
                                <input type="text" id="nickname">
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="age"><i class="fas fa-birthday-cake"></i> Age (Private)</label>
                                <input type="number" id="age" min="15" max="100">
                            </div>
                            <div class="form-group">
                                <label for="gender"><i class="fas fa-venus-mars"></i> Gender</label>
                                <select id="gender">
                                    <option value="">Select</option>
                                    <option value="Male">Male</option>
                                    <option value="Female">Female</option>
                                    <option value="Other">Other</option>
                                    <option value="Prefer not to say">Prefer not to say</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="department"><i class="fas fa-building"></i> Department</label>
                                <input type="text" id="department" placeholder="e.g., Computer Science">
                            </div>
                            <div class="form-group">
                                <label for="class"><i class="fas fa-book"></i> Class</label>
                                <input type="text" id="class" placeholder="e.g., Sophomore">
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="section"><i class="fas fa-users"></i> Section</label>
                            <input type="text" id="section" placeholder="e.g., A">
                        </div>

                        <div class="form-group">
                            <label for="hobby"><i class="fas fa-heart"></i> Hobby (Private)</label>
                            <input type="text" id="hobby" placeholder="e.g., Reading, Gaming">
                        </div>

                        <div class="form-group">
                            <label for="bio"><i class="fas fa-align-left"></i> Bio (Private)</label>
                            <textarea id="bio" rows="4" placeholder="Tell us about yourself..."></textarea>
                        </div>

                        <div id="profileError" class="error-message"></div>
                        <div id="profileSuccess" class="success-message"></div>

                        <div class="form-actions">
                            <button type="submit" class="btn-primary">
                                <i class="fas fa-save"></i> Save Profile
                            </button>
                            <button type="button" id="cancelEditBtn" class="btn-secondary">
                                <i class="fas fa-times"></i> Cancel
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </main>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="script.js"></script>
</body>
</html>